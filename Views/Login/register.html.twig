{% extends "Login/layout.html.twig" %}
{% block title %}Login
{% endblock %}

{% block main %}
	<div class="limiter">
		<div class="container-login100">
			<div class="wrap-login100">
				<div class="login100-form-title" style="background-image: url(/Assets/Extras/images/bg-01.jpg);">
					<span class="login100-form-title-1">Registrarse</span>
				</div>

				<form class="login100-form validate-form" action="/register/insert" method='POST' id='register'>
					{{ csrf_token()|raw }}
					<div class="wrap-input100 validate-input m-b-26" data-validate="El nombre es necesario.">
						<span class="label-input100">Nombre</span>
						<input class="input100" type="text" name="username" id="username" placeholder="Ingresa tu nombre" required>
						<span class="focus-input100"></span>
					</div>
					<div class="wrap-input100 validate-input m-b-26" data-validate="El apellido es necesario.">
						<span class="label-input100">Primer Apellido</span>
						<input class="input100" type="text" name="primerapellido" id="primerapellido" placeholder="Ingresa tu primer apellido" required>
						<span class="focus-input100"></span>
					</div>
					<div class="wrap-input100 validate-input m-b-26">
						<span class="label-input100">Segundo Apellido</span>
						<input class="input100" type="text" name="segundoapellido" id="segundoapellido" placeholder="Ingresa tu segundo apellido">
						<span class="focus-input100"></span>
					</div>
					<div class="wrap-input100 validate-input m-b-26">
						<span class="label-input100">Telefono</span>
						<input class="input100" type="number" name="tel" id="tel" placeholder="Ingrese su numero de telefono">
						<span class="focus-input100"></span>
					</div>
					<div class="wrap-input100 validate-input m-b-26" data-validate="La fecha de nacimiento es necesaria.">
						<span class="label-input100">Fecha de nacimiento</span>
						<input class="input100" type="DATE" name="nacimiento" id="nacimiento" required>
						<span class="focus-input100"></span>
					</div>
					<div class="wrap-input100 validate-input m-b-26" data-validate="El correo es necesario.">
						<span class="label-input100">Email</span>
						<input class="input100" type="text" name="email" id="email" placeholder="Ingresa tu correo..."required>
						<span class="focus-input100"></span>
					</div>

					<div class="wrap-input100 validate-input m-b-18" data-validate="La contraseña es necesaria.">
						<span class="label-input100">Clave</span>
						<input class="input100" type="password" name="pass" id="pass" placeholder="Ingresa tu clave..." required>
						<span class="focus-input100"></span>
					</div>

					<div class="wrap-input100 validate-input m-b-18" data-validate="La contraseña es necesaria">
						<span class="label-input100">Repite tu Clave</span>
						<input class="input100" type="password" name="pass2"  id="pass2" placeholder="Ingresa tu clave nuevamente..." required>
						<span class="focus-input100"></span>
					</div>

					<div class=" validate-input m-b-18" data-validate="La contraseña es necesaria">
						<span class="label-checkbox100">Natural</span>
						<input class="input-checkbox100" type="checkbox" name="natural" id='natural' value='2'>
						<span class="focus-input100"></span>

						<span class="label-checkbox100">Empresa</span>
						<input class="input-checkbox100" type="checkbox" name="empresa" id='empresa' value='3'>
				
					</div>

					<div class="flex-sb-m w-full p-b-30">
						<div class="contact100-form-checkbox">
							<label class="label-checkbox100" for="ckb1">
								<a href="/login">Ya tienes una cuenta?</a>
							</label>
						</div>

						<div>
							<a href="#" class="txt1">
								Olvidaste tu clave?
							</a>
						</div>
					</div>

					<div class="container-login100-form-btn">
						<button class="login100-form-btn">
							Registrarse
						</button>
					</div>
				</form>
			</div>
		</div>
	</div>
		<script>
		var natural = document.getElementById('natural');
		var empresa = document.getElementById('empresa');

		natural.addEventListener('change',() => empresa.checked = natural.checked ? false : empresa.checked);
		empresa.addEventListener('change',() => natural.checked = empresa.checked ? false : natural.checked);

		document.getElementById('register').addEventListener('submit', function(event){
			event.preventDefault();
			register();
		});

		function register(){
			let username = document.getElementById('username').value;
			let primerapellido = document.getElementById('primerapellido').value;
			let nacimiento = document.getElementById('nacimiento').value;
			let email = document.getElementById('email').value;
			let password = document.getElementById('pass').value;
			let password2 = document.getElementById('pass2').value;

			if(natural === 1 || empresa === 1){
				document.value = 0;
				document.value = 0;
			}

			if(
				username === '' || primerapellido === '' || nacimiento === '' || email === ''
				|| password === '' || password2 === ''
			){
				alert('Todos los campos son obligatorios');
				return;	
			}

			if(password !== password2){
				alert('Las claves no coinciden.');
				return;	
			}

			document.getElementById('register').submit();
		}
	</script>
{% endblock %}

